:root{
  --accent: #7b3fbf;
  --ui-bg: rgba(8,8,8,0.7);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:#fff}
#gameCanvas{display:block;width:100vw;height:100vh;background:#223;border:0;image-rendering:pixelated;touch-action:none}

/* overlay */
.overlay{position:absolute;inset:0;z-index:50;background:linear-gradient(180deg,rgba(0,0,0,0.35),rgba(0,0,0,0.75));padding:20px}
.center{display:flex;flex-direction:column;align-items:center;justify-content:center}
.choice{background:var(--accent);border:none;padding:10px 16px;border-radius:8px;margin:6px;font-weight:700;color:white}
.small{opacity:0.9;font-size:12px}
.row{display:flex;gap:8px;align-items:center;margin:8px}

/* HUD */
#hud{position:fixed;left:8px;top:8px;z-index:40}
#info{background:var(--ui-bg);padding:8px;border-radius:8px;min-width:220px}
.barContainer{width:220px;height:12px;background:#111;margin:6px 0;border-radius:6px;overflow:hidden}
.bar{height:12px;background:linear-gradient(90deg,#ffb878,#ff6b3b);width:100%}
.bar.mana{background:linear-gradient(90deg,#9fdfff,#4ba6ff)}
#controlsTop{margin-top:8px;display:flex;gap:6px}
#controlsTop button{padding:6px;border-radius:6px;border:none;background:#222;color:#fff}

/* joystick */
#joystick{position:fixed;left:12px;bottom:12px;width:110px;height:110px;border-radius:999px;background:rgba(0,0,0,0.35);z-index:40;touch-action:none}
#stick{position:absolute;left:36px;top:36px;width:38px;height:38px;border-radius:999px;background:rgba(220,220,220,0.95);transform:translate(0,0)}

/* actions */
#actions{position:fixed;right:12px;bottom:12px;display:flex;flex-direction:column;gap:8px;z-index:40}
#actions button{padding:12px 14px;border-radius:10px;border:none;background:var(--accent);color:white;font-weight:700}

/* modal */
.modal{display:none;position:fixed;inset:0;z-index:60;align-items:center;justify-content:center;background:rgba(0,0,0,0.5)}
.modalContent{background:#0b0b0b;padding:12px;border-radius:8px;min-width:280px}

/* responsive */
@media (max-width:420px){
  #info .barContainer{width:150px}
  #gameCanvas{height:100vh}
}